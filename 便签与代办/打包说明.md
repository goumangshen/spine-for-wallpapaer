# 打包说明

## 方法一：使用 build.spec 文件（推荐）

1. 安装依赖：
```bash
pip install -r requirements.txt
```

2. 使用 PyInstaller 打包：
```bash
pyinstaller build.spec
```

打包完成后，exe 文件会在 `dist` 目录下。

## 方法二：使用命令行直接打包

```bash
pyinstaller --name=ConfigEditor --onefile --windowed --clean --noconfirm --hidden-import=pygame --hidden-import=tkinter --collect-all=pygame main.py
```

## 方法三：使用 build_exe.py 脚本

```bash
python build_exe.py
```

## 打包参数说明

- `--onefile`: 打包成单个exe文件，方便分发
- `--windowed`: 不显示控制台窗口（适合GUI应用）
- `--clean`: 清理临时文件
- `--noconfirm`: 覆盖输出目录而不询问
- `--hidden-import`: 确保某些模块被包含
- `--collect-all=pygame`: 收集pygame的所有数据文件（字体、音频库等）

## 打包后的文件

- `dist/ConfigEditor.exe`: 打包好的exe文件
- `build/`: 临时构建文件（可以删除）

## 注意事项

1. 打包后的exe文件可能比较大（通常50-100MB），因为包含了Python解释器和所有依赖
2. 首次运行exe可能会被杀毒软件拦截，这是正常现象（因为PyInstaller打包的文件经常被误报）
3. 如果遇到缺少DLL的错误，可能需要安装Visual C++ Redistributable
4. 打包时确保在项目根目录下执行命令

## 测试打包后的exe

1. 将exe文件复制到任意目录
2. 确保该目录下有config.json文件（或通过程序选择目录）
3. 双击运行exe文件测试功能

## 减小exe文件大小（可选）

如果exe文件太大，可以尝试：

1. 使用 `--exclude-module` 排除不需要的模块
2. 使用 `--strip` 选项（在spec文件中已启用）
3. 使用 `--upx` 压缩（在spec文件中已启用，需要安装UPX）
